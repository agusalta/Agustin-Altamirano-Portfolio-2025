<button id="themeToggle">
    <svg id="themeIcon" width="206.7" height="206.7" viewBox="0 0 155 155" xmlns="http://www.w3.org/2000/svg">
      <g id="iconGroup" >
        <path id="iconPath" d="M77.5 11c-10 1-15 4-21 12-3 4-3 5-4 12 0 6 0 7 3 13s7 10 8 10c1-1 1 0 1 1 1 1 5 3 10 3l5 2c0 2 4 1 7-2 5-5 4-7-2-11s-8-7-8-15c0-7 3-14 8-19 4-4 5-4 3-6-3-2-5-2-11-1z"/>
      </g>
    </svg>
</button>

<style>
    #themeToggle {
        border: 0;  
        background: none;
        position: absolute;
        right: 0;
        top: 3%;
    }

    #themeIcon {
        fill: var(--icons);
        transition: fill 0.3s ease;
        cursor: pointer;
    }

</style>

<script>
  (function() {
    const iconPath = document.getElementById("iconPath");
    
    const moonPath = "M77.5 11c-10 1-15 4-21 12-3 4-3 5-4 12 0 6 0 7 3 13s7 10 8 10c1-1 1 0 1 1 1 1 5 3 10 3l5 2c0 2 4 1 7-2 5-5 4-7-2-11s-8-7-8-15c0-7 3-14 8-19 4-4 5-4 3-6-3-2-5-2-11-1z";
    const sunPath = "M77.5 45c0 1 1 3 3 3s3-2 2-4c-2-1-4-1-5 1zM55.5 47v3c2 1 2 1 3-1 2-1 2-2 1-3-2-1-2-1-4 1zM63.5 56c-5 2-8 7-8 14-2 10 2 15 12 17 11 3 20-4 21-15 0-5 0-7-2-10-5-7-15-10-23-6zm13 4c5 2 7 5 7 11 0 4 0 6-3 9-3 2-5 3-8 3-9 0-14-5-13-14 1-8 9-12 17-9zM94.5 62v3h4c1-2 1-5-1-5l-3 2zM43.5 67c-1 1-1 4 1 4l3-4c-1-2-2-2-4 0zM91.5 85c0 1 1 3 3 3l2-4c0-2-4-1-5 1zM48.5 89c0 2 1 2 2 2l1-2c1-1 0-2-1-2-2 0-2 1-2 2zM71.5 98v3c2 1 4 1 4-2 0-2-2-3-4-1z";
    
    const currentTheme = localStorage.getItem("theme") || 
      (window.matchMedia('(prefers-color-scheme: dark)').matches ? "dark" : "light");
    
    document.documentElement.classList.toggle("dark", currentTheme === "dark");
    iconPath?.setAttribute("d", currentTheme === "dark" ? sunPath : moonPath);
    
    document.getElementById("themeToggle")?.addEventListener("click", () => {
      const isDark = document.documentElement.classList.toggle("dark");
      iconPath?.setAttribute("d", isDark ? sunPath : moonPath);
      localStorage.setItem("theme", isDark ? "dark" : "light");
    });
  })();
</script>
